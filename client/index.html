<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Stephenson College Events Page">

	<title>Events | Stephenson College</title>
	<link rel="icon" href="./media/logo.ico" type="image/icon type">
	
	<link href="style.css" rel="stylesheet">
	<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

</head>

<body class='bg-light'>
	<!-- Navigation -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container">
			<a class="navbar-brand" style="color: white;">
				<img src="./media/logo.svg" alt="" height="30" width="27"/>
				Stephenson College Events
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>
		<div class="collapse navbar-collapse" id="navbarResponsive">
			<ul class="navbar-nav ml-auto">
				<li class="nav-item active">
					<a  class="nav-link" id="myEvents" href="javascript:search('user')" style='display: none;'>
						<svg class="bi bi-people-circle" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
							<path d="M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 008 15a6.987 6.987 0 005.468-2.63z"/>
							<path fill-rule="evenodd" d="M8 9a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
							<path fill-rule="evenodd" d="M8 1a7 7 0 100 14A7 7 0 008 1zM0 8a8 8 0 1116 0A8 8 0 010 8z" clip-rule="evenodd"/>
						</svg>
						My events
					</a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" type="button" id='loginBtn' data-toggle="modal" data-target="#loginForm">
						<svg class="bi bi-person" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
							<path fill-rule="evenodd" d="M13 14s1 0 1-1-1-4-6-4-6 3-6 4 1 1 1 1h10zm-9.995-.944v-.002.002zM3.022 13h9.956a.274.274 0 00.014-.002l.008-.002c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664a1.05 1.05 0 00.022.004zm9.974.056v-.002.002zM8 7a2 2 0 100-4 2 2 0 000 4zm3-2a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"/>
						</svg>
						Login
					</a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" type="button" id='logoutBtn' style="display: none;">
						<svg class="bi bi-box-arrow-right" width="1.5em" height="1.5em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
							<path fill-rule="evenodd" d="M11.646 11.354a.5.5 0 010-.708L14.293 8l-2.647-2.646a.5.5 0 01.708-.708l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708 0z" clip-rule="evenodd"/>
							<path fill-rule="evenodd" d="M4.5 8a.5.5 0 01.5-.5h9a.5.5 0 010 1H5a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>
							<path fill-rule="evenodd" d="M2 13.5A1.5 1.5 0 01.5 12V4A1.5 1.5 0 012 2.5h7A1.5 1.5 0 0110.5 4v1.5a.5.5 0 01-1 0V4a.5.5 0 00-.5-.5H2a.5.5 0 00-.5.5v8a.5.5 0 00.5.5h7a.5.5 0 00.5-.5v-1.5a.5.5 0 011 0V12A1.5 1.5 0 019 13.5H2z" clip-rule="evenodd"/>
						</svg>
						Logout
					</a>
				</li>
			</ul>
		</div>
		
	</nav>
	<!-- Modals -->
	<!-- Login form -->
	<div class="modal fade" id="loginForm" tabindex="-1" role="dialog" aria-labelledby="loginFormLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-body" id='loginFormBody'>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<form class='px-2 py-2' id='login' onsubmit="auth()">
						<div class="form-group">
							<label >Username</label>
							<input type="text" class="form-control" name="username" placeholder="Username" required>
						</div>
						<div class="form-group">
							<label>Password</label>
							<input type="password" class="form-control" name="password" placeholder="Password" required>
						</div>
						<button type="submit" class="btn btn-danger" style="width: 100px;">Login</button>
						<button onclick="signup()" class="btn btn-outline-danger" style="width: 100px">Sign up</button>
					</form>
				</div>
				<div class="modal-footer">
					<p style="font-size: smaller;">
					<strong>Your connection to the server and the file that store login credentials is not encrypted, do not use a real password and any other personally identifiable information.</strong> 
					'test' and 'admin' are two pre-existing users (same password as the username) that can be used for testing. 
				</div>
			</div>
		</div>
	</div>
  <!-- /.Login form -->
  
  <!-- Guest list modal -->
	<div class="modal fade" id="attendees" tabindex="-1" role="dialog" aria-labelledby="attendees" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Here is the guest list</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id="attendeesBody"></div>
			</div>
		</div>
	</div>
  <!-- /. Guest list modal -->
  <!-- /. Modals -->

	<div class="container">
	<div class="row">
		<!-- Event Entries Column -->
		<div class="col-md-8" id="content">
      <!-- Show an alert -->
			<div id='showMsg' class="alert alert-primary shadowCard top-marg" style="display: none;">
				<button id='closeAlert' class="close" onclick="closeAlert()">Ã—</button>
			</div>
      
      <!-- Loading spinner -->
			<div id='loading' class="text-center" style="display: none;">
				<div class="spinner-border m-5" role="status"></div>
			</div>
      
      <!-- Show event cards -->
			<div id="home" class="top-marg">
				<div id='templateCard' class="card shadowCard" style="display: none;">
					<div class="card-body">
						<h5 class="card-title text-primary" style="font-weight: bold;">
							<svg class="bi bi-calendar-fill" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M0 2a2 2 0 012-2h12a2 2 0 012 2H0z"/>
								<path fill-rule="evenodd" d="M0 3h16v11a2 2 0 01-2 2H2a2 2 0 01-2-2V3zm6.5 4a1 1 0 100-2 1 1 0 000 2zm4-1a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm-8 2a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm4-1a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm-8 2a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm4-1a1 1 0 11-2 0 1 1 0 012 0z" clip-rule="evenodd"/>
							</svg>
						</h5>
						<hr>
						<dl class="row">
							<dt class="col-sm-3 text-secondary">
								<svg class="bi bi-clock-fill" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path fill-rule="evenodd" d="M16 8A8 8 0 110 8a8 8 0 0116 0zM8 3.5a.5.5 0 00-1 0V9a.5.5 0 00.252.434l3.5 2a.5.5 0 00.496-.868L8 8.71V3.5z" clip-rule="evenodd"/>
								</svg>
								Date & Time
							</dt>
							<dd class="col-sm-8"></dd>
							<dt class="col-sm-3 text-secondary">
								<svg class="bi bi-geo-alt" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path fill-rule="evenodd" d="M8 16s6-5.686 6-10A6 6 0 002 6c0 4.314 6 10 6 10zm0-7a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
								</svg>
								Location
							</dt>
							<dd class="col-sm-8"></dd>
							<dt class="col-sm-3 text-secondary">
								<svg class="bi bi-info-circle-fill" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path fill-rule="evenodd" d="M8 16A8 8 0 108 0a8 8 0 000 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
								</svg>
								Details
							</dt>
							<dd class="col-sm-8">None provided</dd>
							<dt class="col-sm-3 text-secondary">
								<svg class="bi bi-person-fill" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path fill-rule="evenodd" d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
								</svg>
								Created by
							</dt>
							<dd class="col-sm-8"></dd>
						</dl>
						<button type="button" class="btn btn-warning btn-sm" onclick="updateAttendance(this)" style="margin-right: 5px; width: 120px;">
							<svg class="bi bi-person-plus-fill" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path fill-rule="evenodd" d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 100-6 3 3 0 000 6zm7.5-3a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 010-1H13V5.5a.5.5 0 01.5-.5z" clip-rule="evenodd"/>
								<path fill-rule="evenodd" d="M13 7.5a.5.5 0 01.5-.5h2a.5.5 0 010 1H14v1.5a.5.5 0 01-1 0v-2z" clip-rule="evenodd"/>
							</svg>
							I'll be there!
						</button>
						<button type="button" class="btn btn-info btn-sm" onclick="showAttendees(this)" style="width: 120px;">
							<svg class="bi bi-people-fill" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path fill-rule="evenodd" d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 100-6 3 3 0 000 6zm-5.784 6A2.238 2.238 0 015 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 005 9c-4 0-5 3-5 4s1 1 1 1h4.216zM4.5 8a2.5 2.5 0 100-5 2.5 2.5 0 000 5z" clip-rule="evenodd"/>
							</svg>
							Guestlist
						</button>
					</div>
				</div>
			</div>
      
      <!-- Display search results -->
			<div id="searchResults" style="display: none;">
				<div>
					<button class='btn btn-light btn-sm' style='margin-right:20px; border-radius: 20px;' onclick="back()">
						<svg class="bi bi-arrow-left-short" width="1.7em" height="1.7em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
							<path fill-rule="evenodd" d="M7.854 4.646a.5.5 0 010 .708L5.207 8l2.647 2.646a.5.5 0 01-.708.708l-3-3a.5.5 0 010-.708l3-3a.5.5 0 01.708 0z" clip-rule="evenodd"/>
							<path fill-rule="evenodd" d="M4.5 8a.5.5 0 01.5-.5h6.5a.5.5 0 010 1H5a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>
						</svg>
					</button>
					<h5 class='my-4 d-inline-block align-middle' id="heading">Search results</h5>
					<div id='searchLoading' class="text-center" style="display: none;">
						<div class="spinner-border m-5" role="status"></div>
					</div>
					<div id="noResult" class="alert alert-danger" role="alert" style="display: none;">
						There are no events that match your keyword
					</div>
				</div>
				<div id="results"></div>
			</div>
		
		</div>

		<!-- Sidebar Widgets Column -->
		<div class="col-md-4 top-marg" >
      <!-- Search widget -->
			<div class="card shadowCard">
				<h5 class="card-header">
					<svg class="bi bi-search" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z" clip-rule="evenodd"/>
						<path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z" clip-rule="evenodd"/>
					</svg>
					Search
				</h5>
				<div class= "card-body">
					<form onsubmit="search()" id="searchForm">
						<div class="form-group">
							<label>Criteria</label>
							<select class="form-control" name='criteria'>
								<option value='name'>Title</option>
								<option value='date'>Date (YYYY-MM-DD)</option>
								<option value='location'>Location</option>
								<option value='createdBy'>Created by</option>
							</select>
						</div>
						<div class="form-group">
							<label>Keyword(s)</label>
							<input name="key" type="text" class="form-control" placeholder='Search for...' required>
						</div>
						<button type="submit" class="btn btn-danger btn-sm">Search</button>
					</form>
				</div>
			</div>
      
      <!-- New event form -->
			<div class="card shadowCard">
				<h5 class="card-header">
					<svg class="bi bi-calendar" width="1.2em" height="1.2em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M14 0H2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z" clip-rule="evenodd"/>
						<path fill-rule="evenodd" d="M6.5 7a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
					</svg>
					Create a new event
				</h5>
				<div class="card-body">
					<form onsubmit="submitEvent()" id="createEvent">
						<div class="form-group">
							<label>Name</label>
							<input name="name" type="text" class="form-control" placeholder='Event Name' required>
						</div>
						<div class="form-group">
							<label>Date</label>
							<input id='dateInp' name="date" type="date" class="form-control" required>     
						</div>
						<div class="form-group">
							<label>Time</label>
							<input name="time" type="time" class="form-control" required> 
							<small class="form-text text-muted">Please use 24HR format unless prompted by your browser</small>    
						</div>
						<div class="form-group">
							<label>Location</label>
							<input name="location" type="text" class="form-control" placeholder='Location' required>
						</div>
						<div class="form-group">
							<label>Details</label>
							<textarea name="details" class="form-control" rows="3" placeholder="e.g. highlights, dress code, entry fees..."></textarea>
						</div>
						<div class="form-check" style="margin-bottom: 10px;">
							<input type="checkbox" class="form-check-input" id="exampleCheck1" required>
							<label class="form-check-label" for="exampleCheck1">Above details are correct</label>
						</div>
						<button type="submit" class="btn btn-danger btn-sm">Submit</button>
					</form>
				</div>
			</div>
		</div>

	</div>
	<!-- /.row -->

	</div>
	<!-- /.container -->

	<!-- Footer -->
	<footer class="py-3 bg-dark">
		<div class="container">
			<p class="m-0 text-center text-white"><a class="text-white" href="./apidoc/index.html" >API documentation</a></p>
		</div>
	</footer>

	<script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="index.js"></script>

</body>

</html>