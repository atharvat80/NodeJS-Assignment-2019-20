<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Stephenson College Events Page">

	<title>Events | Stephenson College</title>
	<link rel="icon" href="./media/logo.ico" type="image/icon type">
	
	<link href="style.css" rel="stylesheet">
	<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

</head>

<body class='bg-light'>

  <!-- Navigation -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
		<div class="container">
			<a class="navbar-brand" style="color: white;">
				<img src="./media/logo.svg" alt="" height="30" width="27"/>
				Stephenson College Events
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>
		<div class="collapse navbar-collapse" id="navbarResponsive">
			<ul class="navbar-nav ml-auto">
				<li class="nav-item">
					<a  class="nav-link" id="navUName" style='visibility: hidden'></a>
				</li>
				<li class="nav-item active">
					<a  class="nav-link" id="myEvents" href="javascript:search('user')" style='visibility: hidden'>My events</a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" type="button" id='loginBtn' data-toggle="modal" data-target="#loginForm">Login</a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" type="button" id='logoutBtn' style="display: none;">Logout</a>
				</li>
			</ul>
		</div>
		
	</nav>

	<!-- Modal -->
	<div class="modal fade" id="loginForm" tabindex="-1" role="dialog" aria-labelledby="loginFormLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-body" id='loginFormBody'>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<form class='px-2 py-2' id='login' onsubmit="auth()">
						<div class="form-group">
							<label >Username</label>
							<input type="text" class="form-control" name="uName" placeholder="Username" required>
						</div>
						<div class="form-group">
							<label>Password</label>
							<input type="password" class="form-control" name="pass" placeholder="Password" required>
						</div>
						<button type="submit" class="btn btn-danger">Login</button>
						<button onclick="signup()" class="btn btn-outline-danger">Sign up</button>
					</form>
				</div>
				<div class="modal-footer">
					<p style="font-size: smaller;">
					<strong>Your connection to the server is not encrypted and therefore it is strongly advised that do not use a real password and any other personally identifiable information.</strong> 
					'test' and 'admin' are two pre-existing users (same password as the username) that can be used for testing. 
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="attendees" tabindex="-1" role="dialog" aria-labelledby="attendees" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Here is the guest list</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id="attendeesBody"></div>
			</div>
		</div>
	</div>

	<!-- Page Content -->
	<div class="container" style="margin-top: 65px;">
	<div class="row">
		<!-- Event Entries Column -->
		<div class="col-md-8" id="content">
			<div id='showMsg' class="alert alert-primary shadowCard" style="display: none;">
				<button id='closeAlert' class="close" onclick="closeAlert()">×</button>
			</div>
			
			<div id='loading' class="text-center" style="display: none;">
				<div class="spinner-border m-5" role="status"></div>
			</div>
			
			<div id="home">
				<div id='templateCard' class="card shadowCard" style="display: none;">
					<div class="card-body">
						<h5 class="card-title text-primary" style="font-weight: bold;"></h5>
						<dl class="row">
							<dt class="col-sm-3 text-secondary">Date</dt>
							<dd class="col-sm-9"></dd>
						  
							<dt class="col-sm-3 text-secondary">Time</dt>
							<dd class="col-sm-9"></dd>
						  
							<dt class="col-sm-3 text-secondary">Location</dt>
							<dd class="col-sm-9"></dd>
						  
							<dt class="col-sm-3 text-secondary">Details</dt>
							<dd class="col-sm-9">None provided</dd>
			
							<dt class="col-sm-3 text-secondary">Attending</dt>
							<dd class="col-sm-9"></dd>
			
							<dt class="col-sm-3 text-secondary">Created by</dt>
							<dd class="col-sm-9"></dd>
						</dl>
						<button type="button" class="btn btn-warning btn-sm" onclick="updateAttendance(this)">I'll be there!</button>
						<button type="button" class="btn btn-info btn-sm" onclick="showAttendees(this)">Guestlist</button>
					</div>
				</div>
			</div>
			
			<div id="searchResults" style="display: none;">
				<div>
					<button class='btn btn-danger btn-sm shadowCard' style='margin-right:20px' onclick="back()">‹ back</button>
					<h5 class='my-4 d-inline-block align-middle' id="heading">Search results</h5>
					<div id='searchLoading' class="text-center" style="display: none;">
						<div class="spinner-border m-5" role="status"></div>
					</div>
					<div id="noResult" class="alert alert-danger shadowCard" role="alert" style="display: none;">
						There are no events that match your keyword
					</div>
				</div>
				<div id="results"></div>
			</div>
		
		</div>

		<!-- Sidebar Widgets Column -->
		<div class="col-md-4">
			<div class="card shadowCard">
				<h5 class="card-header">Search</h5>
				<div class= "card-body">
					<form onsubmit="search()" id="searchForm">
						<div class="form-group">
							<label>Criteria</label>
							<select class="form-control" name='criteria'>
								<option value='name'>Title</option>
								<option value='date'>Date (YYYY-MM-DD)</option>
								<option value='location'>Location</option>
								<option value='createdBy'>Created by</option>
							</select>
						</div>
						<div class="form-group">
							<label>Keyword(s)</label>
							<input name="key" type="text" class="form-control" placeholder='Search for...' required>
						</div>
						<button type="submit" class="btn btn-danger btn-sm">Search</button>
					</form>
				</div>
			</div>
			
			<div class="card shadowCard">
				<h5 class="card-header">Create a new event</h5>
				<div class="card-body">
					<form onsubmit="submitEvent()" id="createEvent">
						<div class="form-group">
							<label>Name</label>
							<input name="name" type="text" class="form-control" placeholder='Event Name' required>
						</div>
						<div class="form-group">
							<label>Date</label>
							<input id='dateInp' name="date" type="date" class="form-control" required>     
						</div>
						<div class="form-group">
							<label>Time</label>
							<input name="time" type="time" class="form-control" required> 
							<small class="form-text text-muted">Please use 24HR format unless prompted by your browser</small>    
						</div>
						<div class="form-group">
							<label>Location</label>
							<input name="location" type="text" class="form-control" placeholder='Location' required>
						</div>
						<div class="form-group">
							<label>Details</label>
							<textarea name="details" class="form-control" rows="3" placeholder="e.g. highlights, dress code, entry fees..."></textarea>
						</div>
						<div class="form-check" style="margin-bottom: 10px;">
							<input type="checkbox" class="form-check-input" id="exampleCheck1" required>
							<label class="form-check-label" for="exampleCheck1">Above details are correct</label>
						</div>
						<button type="submit" class="btn btn-danger btn-sm">Submit</button>
					</form>
				</div>
			</div>
		</div>

	</div>
	<!-- /.row -->

	</div>
	<!-- /.container -->

	<!-- Footer -->
	<footer class="py-3 bg-dark">
		<div class="container">
			<p class="m-0 text-center text-white">Copyright &copy; Atharva Tidke 2020</p>
			<p class="m-0 text-center text-white">API documentation</p>
		</div>
	</footer>

	<script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="index.js"></script>

</body>

</html>